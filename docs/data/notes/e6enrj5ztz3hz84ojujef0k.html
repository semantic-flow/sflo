<h1 id="aggregated-distribution">Aggregated Distribution<a aria-hidden="true" class="anchor-heading icon-link" href="#aggregated-distribution"></a></h1>
<p><strong>note: maybe we will do them, maybe we won't</strong></p>
<ul>
<li>t.2025.11.08.09 probably not. Better to go the other way: from a payload dataset, create all its named nodes and link back to the original; keeps things flow-y</li>
<li>probably won't do unified distributions except via API. </li>
</ul>
<p>A node's <strong>aggregated distribution</strong> is a compilation of all the child flows of itself and its contained nodes (their <code>_payload/_default/</code> snapshots), situated directly under the parent node with an intuitive filename like "nodename.ext".</p>
<p>Essentially, it's a "(sub-)mesh in a single file." </p>
<p>Perhaps its only available via API. </p>
<h2 id="purpose">Purpose<a aria-hidden="true" class="anchor-heading icon-link" href="#purpose"></a></h2>
<p>Aggregated distributions support <a href="/sflo/notes/principle-composability">composability</a> and <a href="/sflo/notes/transposability">transposability</a> by:</p>
<ul>
<li>Combining contained nodes' data into a single resource</li>
<li>Supporting modular ontology and knowledge base construction</li>
</ul>
<h2 id="issues">Issues<a aria-hidden="true" class="anchor-heading icon-link" href="#issues"></a></h2>
<p>config options</p>
<ul>
<li>zipping/compression?</li>
<li>user data only, or include metadata/config</li>
</ul>
<h2 id="generation-process">Generation Process<a aria-hidden="true" class="anchor-heading icon-link" href="#generation-process"></a></h2>
<p>During <a href="/sflo/notes/rall4fbxm369okmy5383sf8">Weave Process</a>, aggregated distributions are created by:</p>
<ol>
<li><strong>Scanning contained payload nodes</strong> recursively within the mesh structure</li>
<li><strong>Collecting <code>_payload/_default/</code> distributions</strong> from each flow</li>
<li><strong>Merging content</strong> with proper URI resolution and prefix handling</li>
<li><strong>Excluding <code>_config</code> and <code>_meta</code> datasets</strong> (data content only)</li>
<li><strong>Generating multiple distributions</strong> (.ttl, .rdf, .jsonld) as configured</li>
</ol>
<h2 id="examples">Examples<a aria-hidden="true" class="anchor-heading icon-link" href="#examples"></a></h2>
<h3 id="composable-ontology">Composable Ontology<a aria-hidden="true" class="anchor-heading icon-link" href="#composable-ontology"></a></h3>
<pre><code>/my-ontology/
├── my-ontology.ttl              ← Aggregated distribution
├── my-ontology.rdf              ← Aggregated distribution  
├── my-ontology.jsonld           ← Aggregated distribution
├── Person/                  ← payload node (class definition)
├── hasName/                 ← payload node (property definition)
└── Organization/            ← payload node (class definition)
</code></pre>
<h3 id="knowledge-base">Knowledge Base<a aria-hidden="true" class="anchor-heading icon-link" href="#knowledge-base"></a></h3>
<pre><code>/biotech-kb/
├── biotech-kb.ttl               ← Aggregated distribution
├── biotech-kb.jsonld            ← Aggregated distribution
├── companies/
│   ├── genentech/               ← Company payload node
│   └── moderna/                 ← Company payload node
└── products/
    ├── drug-x/                  ← Product payload node
    └── vaccine-y/               ← Product payload node
</code></pre>
<h2 id="technical-considerations">Technical Considerations<a aria-hidden="true" class="anchor-heading icon-link" href="#technical-considerations"></a></h2>
<p><strong>Merging logic handles:</strong></p>
<ul>
<li><strong>Relative path resolution</strong> - Converting relative URIs to absolute</li>
<li><strong>Prefix consolidation</strong> - Deduplicating namespace declarations</li>
<li><strong>Graph merging</strong> - Combining RDF graphs from multiple sources; de-duplicating</li>
<li><strong>Base URI handling</strong> - Ensuring consistent URI resolution</li>
</ul>
<h2 id="use-cases">Use Cases<a aria-hidden="true" class="anchor-heading icon-link" href="#use-cases"></a></h2>
<ul>
<li><strong>Ontologies</strong> - Classes and properties from contained nodes</li>
<li><strong>Vocabularies</strong> - Terms and definitions from specialized nodes  </li>
<li><strong>Catalogs</strong> - Dataset metadata from multiple sources</li>
<li><strong>Knowledge bases</strong> - Facts distributed across domain-specific nodes</li>
<li><strong>Configuration data</strong> - Settings aggregated from component services</li>
</ul>
<h2 id="related-concepts">Related Concepts<a aria-hidden="true" class="anchor-heading icon-link" href="#related-concepts"></a></h2>
<ul>
<li><strong><a href="/sflo/notes/payload-flow">payload flow</a></strong> - Source datasets for aggregation</li>
<li><strong><a href="/sflo/notes/rall4fbxm369okmy5383sf8">Weave Process</a></strong> - Process that generates aggregated distributions</li>
<li><strong><a href="/sflo/notes/8t3swuswoi81yuzo2bnecy9">FlowShot</a></strong> - Contains the actual distributions being aggregated</li>
</ul>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/sflo/notes/pqjdlyd8g80x3yr9o3p82mj">node config</a></li>
<li><a href="/sflo/notes/concept-summary">Concept Summary</a></li>
<li><a href="/sflo/notes/b666mbhgg9k0jsrk46ui4zs">file resource facet</a></li>
</ul>