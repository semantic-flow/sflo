<h1 id="node-config">node config<a aria-hidden="true" class="anchor-heading icon-link" href="#node-config"></a></h1>
<h2 id="per-node-config-specification">per-node config specification<a aria-hidden="true" class="anchor-heading icon-link" href="#per-node-config-specification"></a></h2>
<p>Node configuration determines:</p>
<ul>
<li>flow versioning</li>
<li>resource page and fragment generation</li>
<li>distribution syntaxes</li>
<li>template usage and stylesheets</li>
<li>attribution defaults</li>
</ul>
<p>Node configuration is held in memory by the <a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">flow service (Private)</a>, and is calculated when the service starts.</p>
<p>Node configuration is at least partially determined by "config specification", which happens in <a href="/sflo/notes/kr1y9tt3qljsbfy8lxm3u1g">config component</a> and can be inherited to contained nodes.</p>
<p>If config specification is missing, (i.e., config spec inheritance is turned off or unspecified), node configuration will be determined from service-level config specification, i.e. <a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">sflo.product.service.config (Private)</a>. In case there is none, the service will use sensible defaults at the root level which will be inherited down the mesh.</p>
<h3 id="initial-config-specification">Initial Config Specification<a aria-hidden="true" class="anchor-heading icon-link" href="#initial-config-specification"></a></h3>
<ul>
<li>When a node is initially created, if config-defaults-inheritance is turned on for its parent node, it will have its <a href="/sflo/notes/kr1y9tt3qljsbfy8lxm3u1g">config component</a> populated based on any parent <a href="/sflo/notes/9el7ivz22xvt8exiz7tj23f">Node Config Defaults</a> files present in the hierarchy. If there are none, its <a href="/sflo/notes/074yxm151l47n1aak58ggni">current snapshot</a> will not be created.</li>
</ul>
<h3 id="calculating-node-config">Calculating Node Config<a aria-hidden="true" class="anchor-heading icon-link" href="#calculating-node-config"></a></h3>
<p>When the <a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">sflo.product.service (Private)</a> starts, it calculates non-default config settings for every node.</p>
<ul>
<li>determines the "default" settings for this service instance from <a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">sflo.product.service.config (Private)</a></li>
<li>if the node has a <a href="/sflo/notes/kr1y9tt3qljsbfy8lxm3u1g">config component</a> , the service will use any settings there that differ from its defaults</li>
<li>if config-inheritance is turned on for a node, the service will scan back up the hierarchy to compose any missing "non-default" settings</li>
<li>the result is an in-memory "shadow mesh" known as the <a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">sflo.product.service.components.node-config-map (Private)</a> containing any non-default settings for the mesh</li>
</ul>
<p>If calculated config matches the service defaults, they are ignored.</p>
<h2 id="per-service-settings-for-node-defaults">per-service settings for node defaults<a aria-hidden="true" class="anchor-heading icon-link" href="#per-service-settings-for-node-defaults"></a></h2>
<ul>
<li><a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">sflo.product.service.config (Private)</a> can establish any mesh-wide settings that diverge from the system defaults</li>
</ul>
<h2 id="platform-node-config-defaults">platform node-config defaults<a aria-hidden="true" class="anchor-heading icon-link" href="#platform-node-config-defaults"></a></h2>
<p>Semantic Flow uses sensible defaults, so that neither node-level nor service-level "non-default" settings are necessary</p>
<ul>
<li>by default:
<ul>
<li>versioning is turned on for all components</li>
<li>distribution syntaxes are .trig and jsonld</li>
<li>resource pages are generated using a standard template and CSS file that get copied into a <a href="/sflo/notes/c4wo7mdjzcit2bmvqr5sx4u">mesh repo</a>'s root <a href="/sflo/notes/3lqeacm90xhf0b8jrrerfop">assets tree</a> upon initialization</li>
<li><a href="/sflo/notes/e6enrj5ztz3hz84ojujef0k">Aggregated Distribution</a> are not generated</li>
<li><a href="/sflo/notes/sif626tmt3mw3nir5gv1s1a">unified dataset</a></li>
</ul>
</li>
</ul>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/sflo/notes/kr1y9tt3qljsbfy8lxm3u1g">config component</a></li>
<li><a href="/sflo/notes/config-inheritance-resolution">Config Inheritance Resolution</a></li>
</ul>