{"pageProps":{"note":{"id":"rall4fbxm369okmy5383sf8","title":"Weave Process","desc":"","updated":1764327582990,"created":1751128698638,"custom":{},"fname":"concept.weave-process","type":"note","vault":{"fsPath":"documentation","selfContained":false,"name":"sflo"},"contentHash":"d6053836514ef7970d6eb028244fb9f2","links":[{"type":"wiki","from":{"fname":"concept.weave-process","id":"rall4fbxm369okmy5383sf8","vaultName":"sflo"},"value":"mesh-resource.node-component.flow-shot.working-shot","alias":"WorkingShot","position":{"start":{"line":9,"column":60,"offset":117},"end":{"line":9,"column":127,"offset":184},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"mesh-resource.node-component.flow-shot.working-shot"}},{"type":"wiki","from":{"fname":"concept.weave-process","id":"rall4fbxm369okmy5383sf8","vaultName":"sflo"},"value":"mesh-resource.node-component.flow-shot.snapshot","alias":"Snapshot","position":{"start":{"line":11,"column":21,"offset":215},"end":{"line":11,"column":81,"offset":275},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"mesh-resource.node-component.flow-shot.snapshot"}},{"type":"wiki","from":{"fname":"concept.weave-process","id":"rall4fbxm369okmy5383sf8","vaultName":"sflo"},"value":"mesh-resource.node-component.flow-shot.default-shot","alias":"DefaultShot","position":{"start":{"line":12,"column":16,"offset":321},"end":{"line":12,"column":83,"offset":388},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"mesh-resource.node-component.flow-shot.default-shot"}},{"type":"wiki","from":{"fname":"concept.weave-process","id":"rall4fbxm369okmy5383sf8","vaultName":"sflo"},"value":"mesh-resource.node-component.flow.node-metadata","alias":"meta-flow","position":{"start":{"line":13,"column":21,"offset":421},"end":{"line":13,"column":82,"offset":482},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"mesh-resource.node-component.flow.node-metadata"}},{"type":"wiki","from":{"fname":"concept.weave-process","id":"rall4fbxm369okmy5383sf8","vaultName":"sflo"},"value":"mesh-resource.node-component.documentation-resource.changelog","position":{"start":{"line":13,"column":88,"offset":488},"end":{"line":13,"column":153,"offset":553},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"mesh-resource.node-component.documentation-resource.changelog"}},{"from":{"fname":"concept.mesh","id":"h6ssv16gdyf56gg235dxv85","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":9,"column":50,"offset":623},"end":{"line":9,"column":89,"offset":662},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"concept.mesh","id":"h6ssv16gdyf56gg235dxv85","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":109,"column":76,"offset":8644},"end":{"line":109,"column":109,"offset":8677},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"concept.mesh","id":"h6ssv16gdyf56gg235dxv85","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":156,"column":5,"offset":11585},"end":{"line":156,"column":44,"offset":11624},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"concept.summary","id":"concept-summary","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":138,"column":3,"offset":7218},"end":{"line":138,"column":28,"offset":7243},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"concept.summary","id":"concept-summary","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":214,"column":3,"offset":10582},"end":{"line":214,"column":28,"offset":10607},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"guide.product-brief","id":"tudefgmmf2pdx28zb9xs84j","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":92,"column":3,"offset":3547},"end":{"line":92,"column":28,"offset":3572},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"guide.project-brief","id":"p1h6n78assy929ogf6e97uy","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":19,"column":3,"offset":846},"end":{"line":19,"column":28,"offset":871},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"mesh-resource.node-component","id":"9c27yly4ed3ju7msf8luhge","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":30,"column":57,"offset":1379},"end":{"line":30,"column":96,"offset":1418},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"task.2025-11-27-createNode","id":"ufnbtre0tn2pxq7dzjcgrz0","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":29,"column":16,"offset":1048},"end":{"line":29,"column":55,"offset":1087},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"concept.namespace.context","id":"namespace-context","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":11,"column":40,"offset":426},"end":{"line":11,"column":71,"offset":457},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"facet.flow.unversioned","id":"mjrp94i4d65x6ypgdd2ki0v","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":2,"column":81,"offset":81},"end":{"line":2,"column":106,"offset":106},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"facet.flow.v-series","id":"j15tveot7ja8tmxy7vvmpjz","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":2,"column":102,"offset":102},"end":{"line":2,"column":127,"offset":127},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"mesh-resource.node-component.aggregated-distribution","id":"e6enrj5ztz3hz84ojujef0k","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":26,"column":8,"offset":959},"end":{"line":26,"column":33,"offset":984},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"mesh-resource.node-component.aggregated-distribution","id":"e6enrj5ztz3hz84ojujef0k","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":78,"column":5,"offset":3022},"end":{"line":78,"column":30,"offset":3047},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"mesh-resource.node-component.flow-shot","id":"8t3swuswoi81yuzo2bnecy9","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":82,"column":5,"offset":3658},"end":{"line":82,"column":30,"offset":3683},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"mesh-resource.node-component.documentation-resource.resource-page","id":"wvzsqsdcvkd1d2adyeqw996","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":2,"column":113,"offset":113},"end":{"line":2,"column":138,"offset":138},"indent":[]},"value":"concept.weave-process"},{"from":{"fname":"mesh-resource.node-component.flow-shot.snapshot","id":"r6akf3zjimf3ubkxpqmeubc","vaultName":"sflo"},"type":"backlink","position":{"start":{"line":2,"column":34,"offset":34},"end":{"line":2,"column":65,"offset":65},"indent":[]},"value":"concept.weave-process"}],"anchors":{"weave-process":{"type":"header","text":"Weave Process","value":"weave-process","line":9,"column":0,"depth":1},"purpose":{"type":"header","text":"Purpose","value":"purpose","line":13,"column":0,"depth":2},"conceptual-model":{"type":"header","text":"Conceptual Model","value":"conceptual-model","line":27,"column":0,"depth":1},"weave-outcomes":{"type":"header","text":"Weave Outcomes","value":"weave-outcomes","line":46,"column":0,"depth":1},"two-phase-weave":{"type":"header","text":"Two-Phase Weave","value":"two-phase-weave","line":73,"column":0,"depth":1},"phase-1--snapshot-cut-atomic-input-capture":{"type":"header","text":"Phase 1 — Snapshot Cut (Atomic Input Capture)","value":"phase-1--snapshot-cut-atomic-input-capture","line":77,"column":0,"depth":2},"if-phase-1-fails":{"type":"header","text":"If Phase 1 fails:","value":"if-phase-1-fails","line":109,"column":0,"depth":3},"phase-2--materialization-atomic-output-publish":{"type":"header","text":"Phase 2 — Materialization (Atomic Output Publish)","value":"phase-2--materialization-atomic-output-publish","line":116,"column":0,"depth":2},"if-phase-2-fails":{"type":"header","text":"If Phase 2 fails:","value":"if-phase-2-fails","line":139,"column":0,"depth":3},"locking-model":{"type":"header","text":"Locking Model","value":"locking-model","line":147,"column":0,"depth":1},"weave-locks-are-at-the-node-or-submesh-level-not-per-file":{"type":"header","text":"Weave locks are at the node (or submesh) level, not per-file.","value":"weave-locks-are-at-the-node-or-submesh-level-not-per-file","line":149,"column":0,"depth":3},"cross-mesh-weaves-are-allowed":{"type":"header","text":"Cross-mesh weaves are allowed","value":"cross-mesh-weaves-are-allowed","line":158,"column":0,"depth":3},"lock-propagation":{"type":"header","text":"Lock propagation","value":"lock-propagation","line":162,"column":0,"depth":3},"stability-guarantees":{"type":"header","text":"Stability Guarantees","value":"stability-guarantees","line":169,"column":0,"depth":1},"scope-levels":{"type":"header","text":"Scope Levels","value":"scope-levels","line":185,"column":0,"depth":1},"flow-weave":{"type":"header","text":"Flow Weave","value":"flow-weave","line":187,"column":0,"depth":3},"node-weave":{"type":"header","text":"Node Weave","value":"node-weave","line":191,"column":0,"depth":3},"node-tree-weave":{"type":"header","text":"Node Tree Weave","value":"node-tree-weave","line":196,"column":0,"depth":3},"cross-mesh-weave":{"type":"header","text":"Cross-Mesh Weave","value":"cross-mesh-weave","line":201,"column":0,"depth":3},"defaultshot-behavior":{"type":"header","text":"DefaultShot Behavior","value":"defaultshot-behavior","line":210,"column":0,"depth":1},"unversioned-flows":{"type":"header","text":"Unversioned flows","value":"unversioned-flows","line":217,"column":0,"depth":3},"workingshot-behavior":{"type":"header","text":"WorkingShot Behavior","value":"workingshot-behavior","line":224,"column":0,"depth":1},"features-preserved-from-older-model":{"type":"header","text":"Features Preserved From Older Model","value":"features-preserved-from-older-model","line":234,"column":0,"depth":1},"interactive-mode":{"type":"header","text":"Interactive Mode","value":"interactive-mode","line":236,"column":0,"depth":3},"tombstoning":{"type":"header","text":"Tombstoning","value":"tombstoning","line":241,"column":0,"depth":3},"resource-page-generation":{"type":"header","text":"Resource Page Generation","value":"resource-page-generation","line":245,"column":0,"depth":3},"transposition-detection":{"type":"header","text":"Transposition Detection","value":"transposition-detection","line":250,"column":0,"depth":3},"best-practices":{"type":"header","text":"Best Practices","value":"best-practices","line":257,"column":0,"depth":1},"weave-often":{"type":"header","text":"“Weave Often”","value":"weave-often","line":259,"column":0,"depth":3},"weave-before-push":{"type":"header","text":"“Weave Before Push”","value":"weave-before-push","line":263,"column":0,"depth":3},"keep-_working-small":{"type":"header","text":"“Keep _working Small”","value":"keep-_working-small","line":267,"column":0,"depth":3},"quirks":{"type":"header","text":"Quirks","value":"quirks","line":273,"column":0,"depth":1},"file--directory-expectations":{"type":"header","text":"File & Directory Expectations","value":"file--directory-expectations","line":281,"column":0,"depth":1}},"children":["resource-page-generation","93ortuby9xg8zp5wb1nxyl1"],"parent":"p0vd6xnshcxw14ztkglxyxn","data":{}},"body":"<h1 id=\"weave-process\">Weave Process<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#weave-process\"></a></h1>\n<h1 id=\"weave-process-1\">Weave Process<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#weave-process-1\"></a></h1>\n<p><em>(concept.weave-process)</em></p>\n<h2 id=\"purpose\">Purpose<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#purpose\"></a></h2>\n<p>The <strong>weave process</strong> transforms evolving Flow data (the <strong><a href=\"/sflo/notes/yci31i07s3bwpl9jd2hptod\">WorkingShot</a></strong>) into:</p>\n<ul>\n<li>a new immutable <strong><a href=\"/sflo/notes/r6akf3zjimf3ubkxpqmeubc\">Snapshot</a></strong> (if versioning is enabled),</li>\n<li>an updated <strong><a href=\"/sflo/notes/074yxm151l47n1aak58ggni\">DefaultShot</a></strong> (always),</li>\n<li>updated metadata (<a href=\"/sflo/notes/0y6p8e594peoult03gobm94\">meta-flow</a>) and <a href=\"/sflo/notes/ciq7uj49ag97v8sl5sphggj\">CHANGELOG</a></li>\n<li>regenerated resource pages</li>\n<li>and a stable, cross-node consistent “cut” of the mesh state(s).</li>\n</ul>\n<p>Weave provides the <strong>atomic publication boundary</strong> of a mesh: everything within the weave scope becomes internally consistent, visible to other tools, and ready for downstream consumption.</p>\n<hr>\n<h1 id=\"conceptual-model\">Conceptual Model<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#conceptual-model\"></a></h1>\n<p>A <strong>Flow</strong> is a <code>dcat:DatasetSeries</code>.\nA Flow always contains three permanent subdirectories:</p>\n<ul>\n<li><strong><code>_working/</code></strong> – mutable; edited by humans &#x26; apps</li>\n<li><strong><code>_default/</code></strong> – mutable; holds latest published FlowShot</li>\n<li><strong>Snapshot folders</strong> – immutable; each a <code>FlowShot</code> with <code>weaveLabel</code> + <code>sequenceNumber</code></li>\n</ul>\n<p>Weave operates on <strong>FlowShots</strong>:</p>\n<ul>\n<li><code>sflo:WorkingShot</code></li>\n<li><code>sflo:DefaultShot</code></li>\n<li><code>sflo:Snapshot</code> (immutable)</li>\n</ul>\n<p>A weave run <strong>never deletes</strong> snapshots; it only produces a new one (if enabled) and refreshes <code>_default/</code>.</p>\n<hr>\n<h1 id=\"weave-outcomes\">Weave Outcomes<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#weave-outcomes\"></a></h1>\n<p>Every weave produces:</p>\n<ol>\n<li>\n<p><strong>A consistent cut of all <code>_working/</code> FlowShots in scope</strong>\n→ optionally and by default stored as a new immutable Snapshot</p>\n</li>\n<li>\n<p><strong>A refreshed <code>_default/</code> FlowShot</strong>\n→ always updated to match the weave result</p>\n</li>\n<li>\n<p><strong>Updated meta-flow</strong>\n→ includes:</p>\n<ul>\n<li>new <code>weaveLabel</code></li>\n<li>new <code>sequenceNumber</code></li>\n<li><code>previousSnapshot</code></li>\n<li>provenance info\n(Only includes <em>latest</em> provenance; older provenance lives in older snapshots.)</li>\n</ul>\n</li>\n<li>\n<p><strong>Regenerated Resource Pages</strong>\n→ stable HTML index pages for nodes and flows</p>\n</li>\n<li>\n<p><strong>(Optional) Tombstone Updates</strong>\n→ for submesh relocation or branch rehoming</p>\n</li>\n</ol>\n<hr>\n<h1 id=\"two-phase-weave\">Two-Phase Weave<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#two-phase-weave\"></a></h1>\n<p>Weave is structured as:</p>\n<h2 id=\"phase-1--snapshot-cut-atomic-input-capture\"><strong>Phase 1 — Snapshot Cut (Atomic Input Capture)</strong><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#phase-1--snapshot-cut-atomic-input-capture\"></a></h2>\n<p>Goal: capture a consistent, static copy of all FlowShots being woven.</p>\n<p>Steps:</p>\n<ol>\n<li>\n<p>Acquire weave locks for all nodes/flows in scope</p>\n<ul>\n<li>Subtree locking permitted</li>\n<li>Cross-mesh locking permitted</li>\n<li>Locks prevent <em>other weaves</em> and <em>sflo-host writes</em></li>\n</ul>\n</li>\n<li>\n<p>For each <code>_working/</code> FlowShot:</p>\n<ul>\n<li>Stat + hash before read</li>\n<li>Copy contents into a staging directory</li>\n<li>Stat + hash again</li>\n<li>If changed during read → <strong>Phase 1 abort (dirty during weave)</strong></li>\n</ul>\n</li>\n<li>\n<p>If all FlowShots are stable:</p>\n<ul>\n<li>Create the new <code>weaveLabel</code></li>\n<li>Increment <code>sequenceNumber</code></li>\n<li>Create new Snapshot folders (if versioning enabled)</li>\n<li>Create new DefaultShot folders (always)</li>\n</ul>\n</li>\n</ol>\n<p>At the end of Phase 1:</p>\n<ul>\n<li>You have a complete staging area containing the cut.</li>\n<li>Nothing has been published yet.</li>\n<li>No writes into the published mesh have occurred.</li>\n</ul>\n<h3 id=\"if-phase-1-fails\">If Phase 1 fails:<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#if-phase-1-fails\"></a></h3>\n<ul>\n<li>No mesh state changes.</li>\n<li>Error appears in meta-flow logs on next successful weave.</li>\n</ul>\n<hr>\n<h2 id=\"phase-2--materialization-atomic-output-publish\"><strong>Phase 2 — Materialization (Atomic Output Publish)</strong><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#phase-2--materialization-atomic-output-publish\"></a></h2>\n<p>Goal: publish the staged FlowShots as the official new state.</p>\n<p>Steps:</p>\n<ol>\n<li>\n<p>Atomic rename (per directory) from staging into:</p>\n<ul>\n<li><code>…/&#x3C;weaveLabel_vN>/</code> (Snapshot)</li>\n<li><code>…/_default/</code> (DefaultShot)</li>\n</ul>\n</li>\n<li>\n<p>Update meta-flow:</p>\n<ul>\n<li><code>sflo:weaveLabel</code></li>\n<li><code>sflo:sequenceNumber</code></li>\n<li><code>sflo:previousSnapshot</code></li>\n<li>provenance fields\n(Only latest provenance is stored; snapshots retain historical provenance.)</li>\n</ul>\n</li>\n<li>\n<p>Generate documentation Resource Pages</p>\n</li>\n<li>\n<p>Release weave locks</p>\n</li>\n</ol>\n<h3 id=\"if-phase-2-fails\">If Phase 2 fails:<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#if-phase-2-fails\"></a></h3>\n<ul>\n<li>Snapshots are still valid (they were already atomically written)</li>\n<li>Resource pages may be regenerated in a later weave</li>\n<li>Meta-flow will reflect incomplete status until next weave</li>\n</ul>\n<hr>\n<h1 id=\"locking-model\">Locking Model<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#locking-model\"></a></h1>\n<h3 id=\"weave-locks-are-at-the-node-or-submesh-level-not-per-file\">Weave locks are <strong>at the node (or submesh) level</strong>, not per-file.<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#weave-locks-are-at-the-node-or-submesh-level-not-per-file\"></a></h3>\n<p>This prevents:</p>\n<ul>\n<li>simultaneous weaves in the same submesh</li>\n<li>sflo-host writes colliding with weave</li>\n</ul>\n<p>Editors may still modify <code>_working</code>, which is why Phase 1 uses stat/hash detection.</p>\n<h3 id=\"cross-mesh-weaves-are-allowed\">Cross-mesh weaves <strong>are allowed</strong><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#cross-mesh-weaves-are-allowed\"></a></h3>\n<p>sflo-host must acquire locks across all referenced meshes before Phase 1 begins.</p>\n<h3 id=\"lock-propagation\">Lock propagation<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#lock-propagation\"></a></h3>\n<p>Requesting a lock for a node implicitly requires locking all ancestors up to the mesh root.\nThis prevents parallel weaves on overlapping submeshes.</p>\n<hr>\n<h1 id=\"stability-guarantees\">Stability Guarantees<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#stability-guarantees\"></a></h1>\n<p>Weave guarantees:</p>\n<ul>\n<li><strong>Atomic publication</strong>: readers see the new state only after Phase 2 completes.</li>\n<li><strong>Consistency within the weave scope</strong>: all flows included in the weave are aligned to the same cut.</li>\n<li><strong>Monotonic <code>sequenceNumber</code> per Flow</strong>: ordinality remains clean even with multiple meshes.</li>\n<li><strong>Weave labels sorted lexicographically within each minute</strong> (if using suffix model).</li>\n</ul>\n<p>Weave explicitly does <em>not</em> guarantee:</p>\n<ul>\n<li>prevention of human text editors saving during the cut\n(→ but it will detect and abort)</li>\n</ul>\n<hr>\n<h1 id=\"scope-levels\">Scope Levels<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#scope-levels\"></a></h1>\n<h3 id=\"flow-weave\"><strong>Flow Weave</strong><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#flow-weave\"></a></h3>\n<ul>\n<li>Affects one flow + its meta-flow</li>\n</ul>\n<h3 id=\"node-weave\"><strong>Node Weave</strong><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#node-weave\"></a></h3>\n<ul>\n<li>Weaves all flows under one node</li>\n<li>Meta-flow updates accordingly</li>\n</ul>\n<h3 id=\"node-tree-weave\"><strong>Node Tree Weave</strong><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#node-tree-weave\"></a></h3>\n<ul>\n<li>Recursively weaves node and descendants</li>\n<li>Ideal for large cohesive units (directories)</li>\n</ul>\n<h3 id=\"cross-mesh-weave\"><strong>Cross-Mesh Weave</strong><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#cross-mesh-weave\"></a></h3>\n<ul>\n<li>Allowed</li>\n<li>Good for Stagecraft’s multi-character simulations where updates must hit player-character mesh + GM-owned simulation mesh simultaneously</li>\n</ul>\n<p>Locking spans both meshes, forming a single weave consistency domain.</p>\n<hr>\n<h1 id=\"defaultshot-behavior\">DefaultShot Behavior<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#defaultshot-behavior\"></a></h1>\n<ul>\n<li><code>_default/</code> is a <strong>real FlowShot</strong></li>\n<li>It is <strong>not</strong> a pointer; it contains real Folder/Files</li>\n<li>It always mirrors the latest Snapshot (or staged result if versioning is off)</li>\n<li>Its IRI is stable, so tools may dereference it without knowing weave labels</li>\n</ul>\n<h3 id=\"unversioned-flows\">Unversioned flows<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#unversioned-flows\"></a></h3>\n<ul>\n<li>Still produce a DefaultShot</li>\n<li>You can treat <code>_default/</code> as the active published dataset</li>\n</ul>\n<hr>\n<h1 id=\"workingshot-behavior\">WorkingShot Behavior<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#workingshot-behavior\"></a></h1>\n<ul>\n<li>Always present</li>\n<li>Always mutable</li>\n<li>Not modeled as an RDF class (optional)</li>\n<li>Synchronized to <code>_default/</code> after each weave</li>\n<li>Errors or partial edits allowed between weaves</li>\n</ul>\n<hr>\n<h1 id=\"features-preserved-from-older-model\">Features Preserved From Older Model<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#features-preserved-from-older-model\"></a></h1>\n<h3 id=\"interactive-mode\">Interactive Mode<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#interactive-mode\"></a></h3>\n<ul>\n<li>Step-through validation</li>\n<li>AI-assisted metadata review</li>\n</ul>\n<h3 id=\"tombstoning\">Tombstoning<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#tombstoning\"></a></h3>\n<ul>\n<li>Node relocation support</li>\n</ul>\n<h3 id=\"resource-page-generation\">Resource Page Generation<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#resource-page-generation\"></a></h3>\n<ul>\n<li>Uses in-memory config cascade and templates</li>\n<li>Node-specific templates override mesh-level templates</li>\n</ul>\n<h3 id=\"transposition-detection\">Transposition Detection<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#transposition-detection\"></a></h3>\n<ul>\n<li>Ensures mesh transposability</li>\n<li>Fixes any IRI base issues or structural inconsistencies</li>\n</ul>\n<hr>\n<h1 id=\"best-practices\">Best Practices<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#best-practices\"></a></h1>\n<h3 id=\"weave-often\">“Weave Often”<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#weave-often\"></a></h3>\n<p>Produces clean snapshots and stable metadata.</p>\n<h3 id=\"weave-before-push\">“Weave Before Push”<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#weave-before-push\"></a></h3>\n<p>Ensures <code>_default/</code> is in sync with mesh state before publishing.</p>\n<h3 id=\"keep-_working-small\">“Keep <code>_working</code> Small”<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#keep-_working-small\"></a></h3>\n<p>Because direct edits are allowed, large files increase dirty-during-weave likelihood.</p>\n<hr>\n<h1 id=\"quirks\">Quirks<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#quirks\"></a></h1>\n<ul>\n<li>Respect pre-existing hand-written <code>index.html</code> under <code>_assets/</code>\n(unless explicitly allowed to regenerate)</li>\n<li>Generated pages may include an invisible marker to allow safe regeneration</li>\n</ul>\n<hr>\n<h1 id=\"file--directory-expectations\">File &#x26; Directory Expectations<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#file--directory-expectations\"></a></h1>\n<pre><code>/repo-root/\n├── _assets/\n│   ├── _templates/\n│   │   ├── default.html\n│   │   ├── ontology.html\n│   │   └── person.html\n│   └── _css/\n│       ├── default.css\n│       ├── ontology.css\n│       └── person.css\n└── my-ontology/\n    ├── _cfg-op/\n    ├── _assets/\n    │   ├── _templates/\n    │   └── _css/\n    └── _payload/\n</code></pre>\n<hr>\n<p>If you'd like, I can also generate:</p>\n<ul>\n<li>A <strong>parallel document</strong> called <code>concept.weave-process.locking</code></li>\n<li>A <strong>process flow diagram</strong></li>\n<li>A <strong>SHACL model</strong> for FlowShots</li>\n<li>A <strong>step-by-step pseudo-code spec</strong> of the weave engine</li>\n</ul>\n<hr>\n<strong>Children</strong>\n<ol>\n<li><a href=\"/sflo/notes/93ortuby9xg8zp5wb1nxyl1\">Weave Lock</a></li>\n<li><a href=\"/sflo/notes/resource-page-generation\">static site generation</a></li>\n</ol>\n<hr>\n<strong>Backlinks</strong>\n<ul>\n<li><a href=\"/sflo/notes/h6ssv16gdyf56gg235dxv85\">semantic mesh</a></li>\n<li><a href=\"/sflo/notes/concept-summary\">Concept Summary</a></li>\n<li><a href=\"/sflo/notes/tudefgmmf2pdx28zb9xs84j\">Product Brief</a></li>\n<li><a href=\"/sflo/notes/p1h6n78assy929ogf6e97uy\">Project Brief</a></li>\n<li><a href=\"/sflo/notes/9c27yly4ed3ju7msf8luhge\">node component</a></li>\n<li><a href=\"/sflo/notes/ufnbtre0tn2pxq7dzjcgrz0\">2025-11-27-createNode</a></li>\n<li><a href=\"/sflo/notes/namespace-context\">namespace context</a></li>\n<li><a href=\"/sflo/notes/mjrp94i4d65x6ypgdd2ki0v\">unversioned flow facet</a></li>\n<li><a href=\"/sflo/notes/j15tveot7ja8tmxy7vvmpjz\">v-series flow facet</a></li>\n<li><a href=\"/sflo/notes/e6enrj5ztz3hz84ojujef0k\">Aggregated Distribution</a></li>\n<li><a href=\"/sflo/notes/8t3swuswoi81yuzo2bnecy9\">FlowShot</a></li>\n<li><a href=\"/sflo/notes/wvzsqsdcvkd1d2adyeqw996\">mesh resource page</a></li>\n<li><a href=\"/sflo/notes/r6akf3zjimf3ubkxpqmeubc\">snapshot</a></li>\n</ul>","noteIndex":{"id":"voy7zrf0f6bs86m02uadhaf","title":"Semantic Flow Documentation","desc":"","updated":1756155165637,"created":1755709990079,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"documentation","selfContained":false,"name":"sflo"},"contentHash":"98cbbdb73a40d62308166fed9c2f594f","links":[{"type":"wiki","from":{"fname":"root","id":"voy7zrf0f6bs86m02uadhaf","vaultName":"sflo"},"value":"now","position":{"start":{"line":4,"column":1,"offset":107},"end":{"line":4,"column":8,"offset":114},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"now"}},{"type":"wiki","from":{"fname":"root","id":"voy7zrf0f6bs86m02uadhaf","vaultName":"sflo"},"value":"todo","position":{"start":{"line":4,"column":11,"offset":117},"end":{"line":4,"column":19,"offset":125},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"todo"}},{"type":"wiki","from":{"fname":"root","id":"voy7zrf0f6bs86m02uadhaf","vaultName":"sflo"},"value":"principle","position":{"start":{"line":4,"column":22,"offset":128},"end":{"line":4,"column":35,"offset":141},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"principle"}},{"type":"wiki","from":{"fname":"root","id":"voy7zrf0f6bs86m02uadhaf","vaultName":"sflo"},"value":"dev.contributor.djradon.dev-log","position":{"start":{"line":4,"column":38,"offset":144},"end":{"line":4,"column":73,"offset":179},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"dev.contributor.djradon.dev-log"}},{"type":"wiki","from":{"fname":"root","id":"voy7zrf0f6bs86m02uadhaf","vaultName":"sflo"},"value":"concept.single-mesh-repo","position":{"start":{"line":10,"column":1,"offset":498},"end":{"line":10,"column":29,"offset":526},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"concept.single-mesh-repo"}},{"type":"wiki","from":{"fname":"root","id":"voy7zrf0f6bs86m02uadhaf","vaultName":"sflo"},"value":"concept.mesh","position":{"start":{"line":10,"column":47,"offset":544},"end":{"line":10,"column":63,"offset":560},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"concept.mesh"}},{"type":"wiki","from":{"fname":"root","id":"voy7zrf0f6bs86m02uadhaf","vaultName":"sflo"},"value":"concept.semantic-flow-site","position":{"start":{"line":10,"column":112,"offset":609},"end":{"line":10,"column":142,"offset":639},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"concept.semantic-flow-site"}},{"type":"wiki","from":{"fname":"root","id":"voy7zrf0f6bs86m02uadhaf","vaultName":"sflo"},"value":"feature","position":{"start":{"line":23,"column":7,"offset":1053},"end":{"line":23,"column":18,"offset":1064},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"feature"}}],"anchors":{"what-is-semantic-flow":{"type":"header","text":"What Is Semantic Flow?","value":"what-is-semantic-flow","line":12,"column":0,"depth":2},"benefits":{"type":"header","text":"Benefits","value":"benefits","line":18,"column":0,"depth":2},"features":{"type":"header","text":"Features","value":"features","line":25,"column":0,"depth":2}},"children":["completed-tasks","p0vd6xnshcxw14ztkglxyxn","qa6hqxy4tknnmutvq13onaq","sfgrcjcttxz7b3qov7efg3f","facets","faq000","ggle3sz2jv3vf53t9qplrzo","mesh-file","mesh-folder","guides","mesh-resource","yxn5rsqsv2gq4s6wbnxsjsj","l9g8eki3dtir51o4jagac5a","28q7fh05bs691llgv7htxnw","products","tkw34hrqxficesa0y2r62s0","tasks","xqjr13fyons9goxv8rjrskj","use-cases","8wh7p4aps8humop7vqymk3n"],"parent":null,"data":{},"body":"\n**Dereferenceable, versioned semantic meshes** will be the foundation for a new era of knowledge graphs.\n\n[[now]] | [[todo]] | [[principle]] | [[dev.contributor.djradon.dev-log]]\n\n## What Is Semantic Flow?\n\n**Semantic Flow** is a framework for managing and publishing resource identifiers, knowledge graphs and other semantic data by leveraging GitHub, Gitlab, and other free static hosting services. It enables a **dereferenceable Semantic Web** where every HTTP IRI returns meaningful content.\n\n[[concept.single-mesh-repo]] provide storage, [[concept.mesh]] provide resource management and publishing, and [[concept.semantic-flow-site]] support data discovery and explainability.\n\n## Benefits\n\n- own your own self-describing data and data schemas\n- complete version history when you want it\n- reliable persistence\n- truly FAIR (Findable, Accessible, Interoperable, and Reusable)\n\n## Features\n\n- seamlessly integrate other data sources anywhere in your mesh\n- generate and customize mini-sites or single-page applications for nodes in your mesh\n- see [[feature]] for a list of planned features\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true},"commands":{"lookup":{"note":{"selectionMode":"none","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"selection","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"documentation","selfContained":false,"name":"sflo"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Semantic Flow Docs","description":"A dendron-based wiki for sflo"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"search","siteUrl":"https://semantic-flow.github.io/sflo","assetsPrefix":"/sflo","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}