{
  "@context": {
    "owl": "http://www.w3.org/2002/07/owl#",
    "rdf": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
    "rdfs": "http://www.w3.org/2000/01/rdf-schema#",
    "xsd": "http://www.w3.org/2001/XMLSchema#",
    "sh": "http://www.w3.org/ns/shacl#",
    "dcterms": "http://purl.org/dc/terms/",
    "prov": "http://www.w3.org/ns/prov#",
    "schema": "https://schema.org/",
    "formats": "http://www.w3.org/ns/formats/",
    "conf": "https://semantic-flow.github.io/ontology/conf/",
    "meta": "https://semantic-flow.github.io/ontology/meta-flow/",
    "mesh": "https://semantic-flow.github.io/ontology/mesh/",
    "sflo-host": "https://semantic-flow.github.io/ontology/flow-service/"
  },
  "@graph": [
    {
      "@id": "sflo-host:",
      "@type": "owl:Ontology",
      "dcterms:title": "sflo-host Ontology",
      "dcterms:description": "Vocabulary for configuring the sflo-host application. Includes platform defaults.",
      "dcterms:creator": "Semantic Flow Project",
      "owl:versionInfo": "1.0.0",
      "mesh:preferredNamespacePrefix": "sflo-host",
      "mesh:alternateNamespacePrefix": [
        "sfhost"
      ]
    },
    {
      "@id": "sflo-host:ServiceConfig",
      "@type": "rdfs:Class",
      "rdfs:label": "Service Configuration",
      "rdfs:comment": "Root configuration class for flow-service instance"
    },
    {
      "@id": "sflo-host:PlatformServiceConfig",
      "@type": "rdfs:Class",
      "rdfs:label": "Platform Service Configuration",
      "rdfs:comment": "Platform-wide default configuration including both service defaults and inheritable node configuration defaults. Extends ServiceConfig to inherit all service properties.",
      "rdfs:subClassOf": { "@id": "sflo-host:ServiceConfig" }
    },
    {
      "@id": "sflo-host:LoggingConfig",
      "@type": "rdfs:Class",
      "rdfs:label": "Logging Configuration",
      "rdfs:comment": "Configuration for service logging behavior"
    },
    {
      "@id": "sflo-host:LogChannelConfig",
      "@type": "rdfs:Class",
      "rdfs:label": "Log Channel Configuration",
      "rdfs:comment": "Abstract superclass for individual logging channels (console, file, sentry)"
    },
    {
      "@id": "sflo-host:ContainedServicesConfig",
      "@type": "rdfs:Class",
      "rdfs:label": "Contained Services Configuration",
      "rdfs:comment": "Configuration for services contained within flow-service"
    },
    {
      "@id": "sflo-host:MeshPath",
      "@type": "rdfs:Class",
      "rdfs:label": "Mesh Path",
      "rdfs:comment": "Represents a local file system path to a mesh directory"
    },
    {
      "@id": "sflo-host:port",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "port",
      "rdfs:comment": "TCP port for the service to listen on",
      "schema:domainIncludes": { "@id": "sflo-host:ServiceConfig" },
      "schema:rangeIncludes": { "@id": "xsd:integer" }
    },
    {
      "@id": "sflo-host:host",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "host",
      "rdfs:comment": "Host address for the service to bind to",
      "schema:domainIncludes": { "@id": "sflo-host:ServiceConfig" },
      "schema:rangeIncludes": { "@id": "xsd:string" }
    },
    {
      "@id": "sflo-host:scheme",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "scheme",
      "rdfs:comment": "URL scheme for the service (http or https)",
      "schema:domainIncludes": { "@id": "sflo-host:ServiceConfig" },
      "schema:rangeIncludes": { "@id": "xsd:string" }
    },
    {
      "@id": "sflo-host:hasLoggingConfig",
      "@type": "owl:ObjectProperty",
      "rdfs:label": "has logging configuration",
      "rdfs:comment": "Logging configuration for the service",
      "schema:domainIncludes": { "@id": "sflo-host:ServiceConfig" },
      "schema:rangeIncludes": { "@id": "sflo-host:LoggingConfig" }
    },
    {
      "@id": "sflo-host:hasConsoleChannel",
      "@type": "owl:ObjectProperty",
      "rdfs:label": "has console channel",
      "rdfs:comment": "Console logging channel configuration",
      "schema:domainIncludes": { "@id": "sflo-host:LoggingConfig" },
      "schema:rangeIncludes": { "@id": "sflo-host:LogChannelConfig" }
    },
    {
      "@id": "sflo-host:hasFileChannel",
      "@type": "owl:ObjectProperty",
      "rdfs:label": "has file channel",
      "rdfs:comment": "File logging channel configuration",
      "schema:domainIncludes": { "@id": "sflo-host:LoggingConfig" },
      "schema:rangeIncludes": { "@id": "sflo-host:LogChannelConfig" }
    },
    {
      "@id": "sflo-host:hasSentryChannel",
      "@type": "owl:ObjectProperty",
      "rdfs:label": "has sentry channel",
      "rdfs:comment": "Sentry error reporting configuration",
      "schema:domainIncludes": { "@id": "sflo-host:LoggingConfig" },
      "schema:rangeIncludes": { "@id": "sflo-host:LogChannelConfig" }
    },
    {
      "@id": "sflo-host:logChannelEnabled",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "log channel enabled",
      "rdfs:comment": "Whether this logging channel is enabled",
      "schema:domainIncludes": { "@id": "sflo-host:LogChannelConfig" },
      "schema:rangeIncludes": { "@id": "xsd:boolean" }
    },
    {
      "@id": "sflo-host:logLevel",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "log level",
      "rdfs:comment": "Minimum log level for this channel",
      "schema:domainIncludes": { "@id": "sflo-host:LogChannelConfig" },
      "schema:rangeIncludes": { "@id": "xsd:string" }
    },
    {
      "@id": "sflo-host:logFilePath",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "log file path",
      "rdfs:comment": "Path for file logging output",
      "schema:domainIncludes": { "@id": "sflo-host:LogChannelConfig" },
      "schema:rangeIncludes": { "@id": "xsd:string" }
    },
    {
      "@id": "sflo-host:sentryDsn",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "sentry DSN",
      "rdfs:comment": "Sentry Data Source Name for error reporting",
      "schema:domainIncludes": { "@id": "sflo-host:LogChannelConfig" },
      "schema:rangeIncludes": { "@id": "xsd:anyURI" }
    },
    {
      "@id": "sflo-host:logRetentionDays",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "log retention days",
      "rdfs:comment": "Number of days to retain log files before deletion",
      "schema:domainIncludes": { "@id": "sflo-host:LogChannelConfig" },
      "schema:rangeIncludes": { "@id": "xsd:integer" }
    },
    {
      "@id": "sflo-host:logMaxFiles",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "log max files",
      "rdfs:comment": "Maximum number of log files to keep during rotation",
      "schema:domainIncludes": { "@id": "sflo-host:LogChannelConfig" },
      "schema:rangeIncludes": { "@id": "xsd:integer" }
    },
    {
      "@id": "sflo-host:logMaxFileSize",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "log max file size",
      "rdfs:comment": "Maximum size per log file in bytes (for size-based rotation)",
      "schema:domainIncludes": { "@id": "sflo-host:LogChannelConfig" },
      "schema:rangeIncludes": { "@id": "xsd:integer" }
    },
    {
      "@id": "sflo-host:logRotationInterval",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "log rotation interval",
      "rdfs:comment": "Log rotation interval (daily, weekly, monthly, or size-based)",
      "schema:domainIncludes": { "@id": "sflo-host:LogChannelConfig" },
      "schema:rangeIncludes": { "@id": "xsd:string" }
    },
    {
      "@id": "sflo-host:hasContainedServices",
      "@type": "owl:ObjectProperty",
      "rdfs:label": "has contained services",
      "rdfs:comment": "Configuration for services contained within flow-service",
      "schema:domainIncludes": { "@id": "sflo-host:ServiceConfig" },
      "schema:rangeIncludes": { "@id": "sflo-host:ContainedServicesConfig" }
    },
    {
      "@id": "sflo-host:apiEnabled",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "API enabled",
      "rdfs:comment": "Whether the REST API is enabled",
      "schema:domainIncludes": { "@id": "sflo-host:ContainedServicesConfig" },
      "schema:rangeIncludes": { "@id": "xsd:boolean" }
    },
    {
      "@id": "sflo-host:sparqlEnabled",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "SPARQL enabled",
      "rdfs:comment": "Whether the SPARQL endpoint is enabled",
      "schema:domainIncludes": { "@id": "sflo-host:ContainedServicesConfig" },
      "schema:rangeIncludes": { "@id": "xsd:boolean" }
    },
    {
      "@id": "sflo-host:queryWidgetEnabled",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "query widget enabled",
      "rdfs:comment": "Whether the Comunica query widget is enabled",
      "schema:domainIncludes": { "@id": "sflo-host:ContainedServicesConfig" },
      "schema:rangeIncludes": { "@id": "xsd:boolean" }
    },
    {
      "@id": "sflo-host:staticServerEnabled",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "static server enabled",
      "rdfs:comment": "Whether the static mesh content server is enabled",
      "schema:domainIncludes": { "@id": "sflo-host:ContainedServicesConfig" },
      "schema:rangeIncludes": { "@id": "xsd:boolean" }
    },
    {
      "@id": "sflo-host:apiDocsEnabled",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "API docs enabled",
      "rdfs:comment": "Whether the API documentation interface is enabled",
      "schema:domainIncludes": { "@id": "sflo-host:ContainedServicesConfig" },
      "schema:rangeIncludes": { "@id": "xsd:boolean" }
    },
    {
      "@id": "sflo-host:meshPaths",
      "@type": "owl:DatatypeProperty",
      "rdfs:label": "mesh paths",
      "rdfs:comment": "Array of local file system paths to mesh directories",
      "schema:domainIncludes": { "@id": "sflo-host:ServiceConfig" },
      "schema:rangeIncludes": { "@id": "xsd:string" }
    },
    {
      "@id": "sflo-host:LogLevelShape",
      "@type": "sh:NodeShape",
      "sh:targetObjectsOf": { "@id": "sflo-host:logLevel" },
      "sh:property": {
        "@type": "sh:PropertyShape",
        "sh:path": { "@id": "rdf:value" },
        "sh:in": {
          "@list": ["debug", "info", "warn", "error", "critical"]
        },
        "sh:message": "Log level must be one of: debug, info, warn, error, critical"
      }
    },
    {
      "@id": "sflo-host:ServiceConfigShape",
      "@type": "sh:NodeShape",
      "sh:targetClass": { "@id": "sflo-host:ServiceConfig" },
      "sh:property": [
        {
          "@type": "sh:PropertyShape",
          "sh:path": { "@id": "sflo-host:port" },
          "sh:datatype": { "@id": "xsd:integer" },
          "sh:minInclusive": 1,
          "sh:maxInclusive": 65535,
          "sh:message": "Port must be an integer between 1 and 65535"
        }
      ]
    },
    {
      "@id": "sflo-host:MeshPathsShape",
      "@type": "sh:NodeShape",
      "@context": {
        "sh": "http://www.w3.org/ns/shacl#"
      },
      "sh:targetObjectsOf": { "@id": "sflo-host:meshPaths" },
      "sh:property": {
        "@type": "sh:PropertyShape",
        "sh:path": { "@id": "rdf:value" },
        "sh:datatype": { "@id": "xsd:string" },
        "sh:minLength": 1,
        "sh:pattern": "^[^<>:\"|?*]+$",
        "sh:message": "Mesh path must be a valid file system path (no invalid characters: < > : \" | ? *)"
      }
    },
    {
      "@id": "sflo-host:LogRetentionShape",
      "@type": "sh:NodeShape",
      "sh:targetClass": { "@id": "sflo-host:LogChannelConfig" },
      "sh:property": [
        {
          "@type": "sh:PropertyShape",
          "sh:path": { "@id": "sflo-host:logRetentionDays" },
          "sh:datatype": { "@id": "xsd:integer" },
          "sh:minInclusive": 1,
          "sh:maxInclusive": 365,
          "sh:message": "Log retention days must be an integer between 1 and 365"
        },
        {
          "@type": "sh:PropertyShape",
          "sh:path": { "@id": "sflo-host:logMaxFiles" },
          "sh:datatype": { "@id": "xsd:integer" },
          "sh:minInclusive": 1,
          "sh:maxInclusive": 100,
          "sh:message": "Log max files must be an integer between 1 and 100"
        },
        {
          "@type": "sh:PropertyShape",
          "sh:path": { "@id": "sflo-host:logMaxFileSize" },
          "sh:datatype": { "@id": "xsd:integer" },
          "sh:minInclusive": 1048576,
          "sh:message": "Log max file size must be at least 1MB (1048576 bytes)"
        },
        {
          "@type": "sh:PropertyShape",
          "sh:path": { "@id": "sflo-host:logRotationInterval" },
          "sh:datatype": { "@id": "xsd:string" },
          "sh:in": {
            "@list": ["daily", "weekly", "monthly", "size-based"]
          },
          "sh:message": "Log rotation interval must be one of: daily, weekly, monthly, size-based"
        }
      ]
    },
    {
      "@id": "sflo-host:defaultPlatformServiceConfig",
      "@type": "sflo-host:PlatformServiceConfig",
      "rdfs:label": "Default Platform Service Configuration",
      "rdfs:comment": "The default configuration for the Semantic Flow platform. Provides sensible defaults for all services and nodes.",
      "sflo-host:port": 31415,
      "sflo-host:host": "localhost",
      "sflo-host:scheme": "http",
      "node-conf:hasInheritableNodeConfig": {
        "@id": "sflo-host:defaultInheritableNodeConfig",
        "@type": "node-conf:InheritableNodeConfig",
        "rdfs:label": "Default Inheritable Node Configuration",
        "rdfs:comment": "Default configuration that is inherited by all nodes unless overridden.",
        "node-conf:versioningEnabled": true,
        "formats:media_type": [
          "application/trig",
          "application/ld+json"
        ],
        "node-conf:generateUnifiedDataset": false,
        "node-conf:generateAggregatedDataset": false,
        "node-conf:nodeConfigInheritanceEnabled": true
      }
    }
  ]
}
